require('./sourcemap-register.js');module.exports=(()=>{var __webpack_modules__={932:(e,t,n)=>{const r=n(186);const s=n(438);async function run(){try{const e=new RegExp("%basebranch%","g");const t=new RegExp("%headbranch%","g");const n={token:r.getInput("repo-token",{required:true}),baseBranchRegex:r.getInput("base-branch-regex"),headBranchRegex:r.getInput("head-branch-regex"),lowercaseBranch:r.getInput("lowercase-branch").toLowerCase()==="true",titleTemplate:r.getInput("title-template"),titleUpdateAction:r.getInput("title-update-action").toLowerCase(),titleInsertSpace:r.getInput("title-insert-space").toLowerCase()==="true",titleUppercaseBaseMatch:r.getInput("title-uppercase-base-match").toLowerCase()==="true",titleUppercaseHeadMatch:r.getInput("title-uppercase-head-match").toLowerCase()==="true",bodyTemplate:r.getInput("body-template"),bodyUpdateAction:r.getInput("body-update-action").toLowerCase(),bodyNewlineCount:parseInt(r.getInput("body-newline-count")),bodyUppercaseBaseMatch:r.getInput("body-uppercase-base-match").toLowerCase()==="true",bodyUppercaseHeadMatch:r.getInput("body-uppercase-head-match").toLowerCase()==="true"};const o=n.baseBranchRegex.trim();const i=o.length>0;const c=n.headBranchRegex.trim();const u=c.length>0;if(!i&&!u){r.setFailed("No branch regex values have been specified");return}const f={baseMatch:"",headMatch:""};if(i){const e=s.context.payload.pull_request.base.ref;const t=n.lowercaseBranch?e.toLowerCase():e;r.info(`Base branch: ${t}`);const i=t.match(new RegExp(o));if(!i){r.setFailed("Base branch name does not match given regex");return}f.baseMatch=i[0];r.info(`Matched base branch text: ${f.baseMatch}`);r.setOutput("baseMatch",f.baseMatch)}if(u){const e=s.context.payload.pull_request.head.ref;const t=n.lowercaseBranch?e.toLowerCase():e;r.info(`Head branch: ${t}`);const o=t.match(new RegExp(c));if(!o){r.setFailed("Head branch name does not match given regex");return}f.headMatch=o[0];r.info(`Matched head branch text: ${f.headMatch}`);r.setOutput("headMatch",f.headMatch)}const a={owner:s.context.repo.owner,repo:s.context.repo.repo,pull_number:s.context.payload.pull_request.number};const d=(e,t)=>e?t.toUpperCase():t;const l=s.context.payload.pull_request.title||"";const h=n.titleTemplate.replace(e,d(n.titleUppercaseBaseMatch,f.baseMatch)).replace(t,d(n.titleUppercaseHeadMatch,f.headMatch));r.info(`Processed title text: ${h}`);const p={prefix:!l.toLowerCase().startsWith(h.toLowerCase()),suffix:!l.toLowerCase().endsWith(h.toLowerCase()),replace:l.toLowerCase()!==h.toLowerCase()}[n.titleUpdateAction]||false;r.setOutput("titleUpdated",p);if(p){a.title={prefix:h.concat(n.titleInsertSpace?" ":"",l),suffix:l.concat(n.titleInsertSpace?" ":"",h),replace:h}[n.titleUpdateAction];r.info(`New title: ${a.title}`)}else{r.warning("No updates were made to PR title")}const b=s.context.payload.pull_request.body||"";const g=n.bodyTemplate.replace(e,d(n.bodyUppercaseBaseMatch,f.baseMatch)).replace(t,d(n.bodyUppercaseHeadMatch,f.headMatch));r.debug(`Processed body text: ${g}`);const y={prefix:!b.toLowerCase().startsWith(g.toLowerCase()),suffix:!b.toLowerCase().endsWith(g.toLowerCase()),replace:b.toLowerCase()!==g.toLowerCase()}[n.bodyUpdateAction]||false;r.setOutput("bodyUpdated",y);if(y){a.body={prefix:g.concat("\n".repeat(n.bodyNewlineCount),b),suffix:b.concat("\n".repeat(n.bodyNewlineCount),g),replace:g}[n.bodyUpdateAction];r.debug(`New body: ${a.body}`)}else{r.warning("No updates were made to PR body")}if(!p&&!y){return}const m=new s.GitHub(n.token);const w=await m.pulls.update(a);r.info(`Response: ${w.status}`);if(w.status!==200){r.error("Updating the pull request has failed")}}catch(e){r.error(e);r.setFailed(e.message)}}run()},351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r=n(87);function issueCommand(e,t,n){const s=new Command(e,t,n);process.stdout.write(s.toString()+r.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const s="::";class Command{constructor(e,t,n){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=n}toString(){let e=s+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";for(const t in this.properties){if(this.properties.hasOwnProperty(t)){const n=this.properties[t];if(n){e+=`${t}=${escape(`${n||""}`)},`}}}}e+=s;const t=`${this.message||""}`;e+=escapeData(t);return e}}function escapeData(e){return e.replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escape(e){return e.replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/]/g,"%5D").replace(/;/g,"%3B")}},186:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,s){function fulfilled(e){try{step(r.next(e))}catch(e){s(e)}}function rejected(e){try{step(r["throw"](e))}catch(e){s(e)}}function step(e){e.done?n(e.value):adopt(e.value).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:true});const s=n(351);const o=n(87);const i=n(622);var c;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(c=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){process.env[e]=t;s.issueCommand("set-env",{name:e},t)}t.exportVariable=exportVariable;function setSecret(e){s.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){s.issueCommand("add-path",{},e);process.env["PATH"]=`${e}${i.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n){throw new Error(`Input required and not supplied: ${e}`)}return n.trim()}t.getInput=getInput;function setOutput(e,t){s.issueCommand("set-output",{name:e},t)}t.setOutput=setOutput;function setFailed(e){process.exitCode=c.Failure;error(e)}t.setFailed=setFailed;function debug(e){s.issueCommand("debug",{},e)}t.debug=debug;function error(e){s.issue("error",e)}t.error=error;function warning(e){s.issue("warning",e)}t.warning=warning;function info(e){process.stdout.write(e+o.EOL)}t.info=info;function startGroup(e){s.issue("group",e)}t.startGroup=startGroup;function endGroup(){s.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return r(this,void 0,void 0,function*(){startGroup(e);let n;try{n=yield t()}finally{endGroup()}return n})}t.group=group},53:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});const r=n(747);const s=n(87);class Context{constructor(){this.payload={};if(process.env.GITHUB_EVENT_PATH){if(r.existsSync(process.env.GITHUB_EVENT_PATH)){this.payload=JSON.parse(r.readFileSync(process.env.GITHUB_EVENT_PATH,{encoding:"utf8"}))}else{process.stdout.write(`GITHUB_EVENT_PATH ${process.env.GITHUB_EVENT_PATH} does not exist${s.EOL}`)}}this.eventName=process.env.GITHUB_EVENT_NAME;this.sha=process.env.GITHUB_SHA;this.ref=process.env.GITHUB_REF;this.workflow=process.env.GITHUB_WORKFLOW;this.action=process.env.GITHUB_ACTION;this.actor=process.env.GITHUB_ACTOR}get issue(){const e=this.payload;return Object.assign(Object.assign({},this.repo),{number:(e.issue||e.pullRequest||e).number})}get repo(){if(process.env.GITHUB_REPOSITORY){const[e,t]=process.env.GITHUB_REPOSITORY.split("/");return{owner:e,repo:t}}if(this.payload.repository){return{owner:this.payload.repository.owner.login,repo:this.payload.repository.name}}throw new Error("context.repo requires a GITHUB_REPOSITORY environment variable like 'owner/repo'")}}t.Context=Context},438:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};var s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)if(Object.hasOwnProperty.call(e,n))t[n]=e[n];t["default"]=e;return t};Object.defineProperty(t,"__esModule",{value:true});const o=n(467);const i=r(n(785));const c=s(n(53));i.default.prototype=new i.default;t.context=new c.Context;class GitHub extends i.default{constructor(e,t={}){super(Object.assign(Object.assign({},t),{auth:`token ${e}`}));this.graphql=o.defaults({headers:{authorization:`token ${e}`}})}}t.GitHub=GitHub},440:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(558);var s=n(30);function lowercaseKeys(e){if(!e){return{}}return Object.keys(e).reduce((t,n)=>{t[n.toLowerCase()]=e[n];return t},{})}function mergeDeep(e,t){const n=Object.assign({},e);Object.keys(t).forEach(s=>{if(r.isPlainObject(t[s])){if(!(s in e))Object.assign(n,{[s]:t[s]});else n[s]=mergeDeep(e[s],t[s])}else{Object.assign(n,{[s]:t[s]})}});return n}function removeUndefinedProperties(e){for(const t in e){if(e[t]===undefined){delete e[t]}}return e}function merge(e,t,n){if(typeof t==="string"){let[e,r]=t.split(" ");n=Object.assign(r?{method:e,url:r}:{url:e},n)}else{n=Object.assign({},t)}n.headers=lowercaseKeys(n.headers);removeUndefinedProperties(n);removeUndefinedProperties(n.headers);const r=mergeDeep(e||{},n);if(e&&e.mediaType.previews.length){r.mediaType.previews=e.mediaType.previews.filter(e=>!r.mediaType.previews.includes(e)).concat(r.mediaType.previews)}r.mediaType.previews=r.mediaType.previews.map(e=>e.replace(/-preview/,""));return r}function addQueryParameters(e,t){const n=/\?/.test(e)?"&":"?";const r=Object.keys(t);if(r.length===0){return e}return e+n+r.map(e=>{if(e==="q"){return"q="+t.q.split("+").map(encodeURIComponent).join("+")}return`${e}=${encodeURIComponent(t[e])}`}).join("&")}const o=/\{[^}]+\}/g;function removeNonChars(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function extractUrlVariableNames(e){const t=e.match(o);if(!t){return[]}return t.map(removeNonChars).reduce((e,t)=>e.concat(t),[])}function omit(e,t){return Object.keys(e).filter(e=>!t.includes(e)).reduce((t,n)=>{t[n]=e[n];return t},{})}function encodeReserved(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){if(!/%[0-9A-Fa-f]/.test(e)){e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")}return e}).join("")}function encodeUnreserved(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function encodeValue(e,t,n){t=e==="+"||e==="#"?encodeReserved(t):encodeUnreserved(t);if(n){return encodeUnreserved(n)+"="+t}else{return t}}function isDefined(e){return e!==undefined&&e!==null}function isKeyOperator(e){return e===";"||e==="&"||e==="?"}function getValues(e,t,n,r){var s=e[n],o=[];if(isDefined(s)&&s!==""){if(typeof s==="string"||typeof s==="number"||typeof s==="boolean"){s=s.toString();if(r&&r!=="*"){s=s.substring(0,parseInt(r,10))}o.push(encodeValue(t,s,isKeyOperator(t)?n:""))}else{if(r==="*"){if(Array.isArray(s)){s.filter(isDefined).forEach(function(e){o.push(encodeValue(t,e,isKeyOperator(t)?n:""))})}else{Object.keys(s).forEach(function(e){if(isDefined(s[e])){o.push(encodeValue(t,s[e],e))}})}}else{const e=[];if(Array.isArray(s)){s.filter(isDefined).forEach(function(n){e.push(encodeValue(t,n))})}else{Object.keys(s).forEach(function(n){if(isDefined(s[n])){e.push(encodeUnreserved(n));e.push(encodeValue(t,s[n].toString()))}})}if(isKeyOperator(t)){o.push(encodeUnreserved(n)+"="+e.join(","))}else if(e.length!==0){o.push(e.join(","))}}}}else{if(t===";"){if(isDefined(s)){o.push(encodeUnreserved(n))}}else if(s===""&&(t==="&"||t==="?")){o.push(encodeUnreserved(n)+"=")}else if(s===""){o.push("")}}return o}function parseUrl(e){return{expand:expand.bind(null,e)}}function expand(e,t){var n=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(e,r,s){if(r){let e="";const s=[];if(n.indexOf(r.charAt(0))!==-1){e=r.charAt(0);r=r.substr(1)}r.split(/,/g).forEach(function(n){var r=/([^:\*]*)(?::(\d+)|(\*))?/.exec(n);s.push(getValues(t,e,r[1],r[2]||r[3]))});if(e&&e!=="+"){var o=",";if(e==="?"){o="&"}else if(e!=="#"){o=e}return(s.length!==0?e:"")+s.join(o)}else{return s.join(",")}}else{return encodeReserved(s)}})}function parse(e){let t=e.method.toUpperCase();let n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}");let r=Object.assign({},e.headers);let s;let o=omit(e,["method","baseUrl","url","headers","request","mediaType"]);const i=extractUrlVariableNames(n);n=parseUrl(n).expand(o);if(!/^http/.test(n)){n=e.baseUrl+n}const c=Object.keys(e).filter(e=>i.includes(e)).concat("baseUrl");const u=omit(o,c);const f=/application\/octet-stream/i.test(r.accept);if(!f){if(e.mediaType.format){r.accept=r.accept.split(/,/).map(t=>t.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")}if(e.mediaType.previews.length){const t=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=t.concat(e.mediaType.previews).map(t=>{const n=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${t}-preview${n}`}).join(",")}}if(["GET","HEAD"].includes(t)){n=addQueryParameters(n,u)}else{if("data"in u){s=u.data}else{if(Object.keys(u).length){s=u}else{r["content-length"]=0}}}if(!r["content-type"]&&typeof s!=="undefined"){r["content-type"]="application/json; charset=utf-8"}if(["PATCH","PUT"].includes(t)&&typeof s==="undefined"){s=""}return Object.assign({method:t,url:n,headers:r},typeof s!=="undefined"?{body:s}:null,e.request?{request:e.request}:null)}function endpointWithDefaults(e,t,n){return parse(merge(e,t,n))}function withDefaults(e,t){const n=merge(e,t);const r=endpointWithDefaults.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:withDefaults.bind(null,n),merge:merge.bind(null,n),parse:parse})}const i="6.0.8";const c=`octokit-endpoint.js/${i} ${s.getUserAgent()}`;const u={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":c},mediaType:{format:"",previews:[]}};const f=withDefaults(null,u);t.endpoint=f},558:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}function isPlainObject(e){var t,n;if(isObject(e)===false)return false;t=e.constructor;if(t===undefined)return true;n=t.prototype;if(isObject(n)===false)return false;if(n.hasOwnProperty("isPrototypeOf")===false){return false}return true}t.isPlainObject=isPlainObject},467:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=n(234);var s=n(30);const o="4.5.6";class GraphqlError extends Error{constructor(e,t){const n=t.data.errors[0].message;super(n);Object.assign(this,t.data);Object.assign(this,{headers:t.headers});this.name="GraphqlError";this.request=e;if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}}}const i=["method","baseUrl","url","headers","request","query","mediaType"];const c=/\/api\/v3\/?$/;function graphql(e,t,n){if(typeof t==="string"&&n&&"query"in n){return Promise.reject(new Error(`[@octokit/graphql] "query" cannot be used as variable name`))}const r=typeof t==="string"?Object.assign({query:t},n):t;const s=Object.keys(r).reduce((e,t)=>{if(i.includes(t)){e[t]=r[t];return e}if(!e.variables){e.variables={}}e.variables[t]=r[t];return e},{});const o=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;if(c.test(o)){s.url=o.replace(c,"/api/graphql")}return e(s).then(e=>{if(e.data.errors){const t={};for(const n of Object.keys(e.headers)){t[n]=e.headers[n]}throw new GraphqlError(s,{headers:t,data:e.data})}return e.data.data})}function withDefaults(e,t){const n=e.defaults(t);const s=(e,t)=>{return graphql(n,e,t)};return Object.assign(s,{defaults:withDefaults.bind(null,n),endpoint:r.request.endpoint})}const u=withDefaults(r.request,{headers:{"user-agent":`octokit-graphql.js/${o} ${s.getUserAgent()}`},method:"POST",url:"/graphql"});function withCustomRequest(e){return withDefaults(e,{method:"POST",url:"/graphql"})}t.graphql=u;t.withCustomRequest=withCustomRequest},537:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=n(670);var s=_interopDefault(n(223));const o=s(e=>console.warn(e));class RequestError extends Error{constructor(e,t,n){super(e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}this.name="HttpError";this.status=t;Object.defineProperty(this,"code",{get(){o(new r.Deprecation("[@octokit/request-error] `error.code` is deprecated, use `error.status`."));return t}});this.headers=n.headers||{};const s=Object.assign({},n.request);if(n.request.headers.authorization){s.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})}s.url=s.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]");this.request=s}}t.RequestError=RequestError},234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=n(440);var s=n(30);var o=n(62);var i=_interopDefault(n(419));var c=n(537);const u="5.4.9";function getBufferResponse(e){return e.arrayBuffer()}function fetchWrapper(e){if(o.isPlainObject(e.body)||Array.isArray(e.body)){e.body=JSON.stringify(e.body)}let t={};let n;let r;const s=e.request&&e.request.fetch||i;return s(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(s=>{r=s.url;n=s.status;for(const e of s.headers){t[e[0]]=e[1]}if(n===204||n===205){return}if(e.method==="HEAD"){if(n<400){return}throw new c.RequestError(s.statusText,n,{headers:t,request:e})}if(n===304){throw new c.RequestError("Not modified",n,{headers:t,request:e})}if(n>=400){return s.text().then(r=>{const s=new c.RequestError(r,n,{headers:t,request:e});try{let e=JSON.parse(s.message);Object.assign(s,e);let t=e.errors;s.message=s.message+": "+t.map(JSON.stringify).join(", ")}catch(e){}throw s})}const o=s.headers.get("content-type");if(/application\/json/.test(o)){return s.json()}if(!o||/^text\/|charset=utf-8$/.test(o)){return s.text()}return getBufferResponse(s)}).then(e=>{return{status:n,url:r,headers:t,data:e}}).catch(n=>{if(n instanceof c.RequestError){throw n}throw new c.RequestError(n.message,500,{headers:t,request:e})})}function withDefaults(e,t){const n=e.defaults(t);const r=function(e,t){const r=n.merge(e,t);if(!r.request||!r.request.hook){return fetchWrapper(n.parse(r))}const s=(e,t)=>{return fetchWrapper(n.parse(n.merge(e,t)))};Object.assign(s,{endpoint:n,defaults:withDefaults.bind(null,n)});return r.request.hook(s,r)};return Object.assign(r,{endpoint:n,defaults:withDefaults.bind(null,n)})}const f=withDefaults(r.endpoint,{headers:{"user-agent":`octokit-request.js/${u} ${s.getUserAgent()}`}});t.request=f},62:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}function isPlainObject(e){var t,n;if(isObject(e)===false)return false;t=e.constructor;if(t===undefined)return true;n=t.prototype;if(isObject(n)===false)return false;if(n.hasOwnProperty("isPrototypeOf")===false){return false}return true}t.isPlainObject=isPlainObject},670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});class Deprecation extends Error{constructor(e){super(e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}this.name="Deprecation"}}t.Deprecation=Deprecation},419:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=_interopDefault(n(413));var s=_interopDefault(n(605));var o=_interopDefault(n(835));var i=_interopDefault(n(211));var c=_interopDefault(n(761));const u=r.Readable;const f=Symbol("buffer");const a=Symbol("type");class Blob{constructor(){this[a]="";const e=arguments[0];const t=arguments[1];const n=[];let r=0;if(e){const t=e;const s=Number(t.length);for(let e=0;e<s;e++){const s=t[e];let o;if(s instanceof Buffer){o=s}else if(ArrayBuffer.isView(s)){o=Buffer.from(s.buffer,s.byteOffset,s.byteLength)}else if(s instanceof ArrayBuffer){o=Buffer.from(s)}else if(s instanceof Blob){o=s[f]}else{o=Buffer.from(typeof s==="string"?s:String(s))}r+=o.length;n.push(o)}}this[f]=Buffer.concat(n);let s=t&&t.type!==undefined&&String(t.type).toLowerCase();if(s&&!/[^\u0020-\u007E]/.test(s)){this[a]=s}}get size(){return this[f].length}get type(){return this[a]}text(){return Promise.resolve(this[f].toString())}arrayBuffer(){const e=this[f];const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new u;e._read=function(){};e.push(this[f]);e.push(null);return e}toString(){return"[object Blob]"}slice(){const e=this.size;const t=arguments[0];const n=arguments[1];let r,s;if(t===undefined){r=0}else if(t<0){r=Math.max(e+t,0)}else{r=Math.min(t,e)}if(n===undefined){s=e}else if(n<0){s=Math.max(e+n,0)}else{s=Math.min(n,e)}const o=Math.max(s-r,0);const i=this[f];const c=i.slice(r,r+o);const u=new Blob([],{type:arguments[2]});u[f]=c;return u}}Object.defineProperties(Blob.prototype,{size:{enumerable:true},type:{enumerable:true},slice:{enumerable:true}});Object.defineProperty(Blob.prototype,Symbol.toStringTag,{value:"Blob",writable:false,enumerable:false,configurable:true});function FetchError(e,t,n){Error.call(this,e);this.message=e;this.type=t;if(n){this.code=this.errno=n.code}Error.captureStackTrace(this,this.constructor)}FetchError.prototype=Object.create(Error.prototype);FetchError.prototype.constructor=FetchError;FetchError.prototype.name="FetchError";let d;try{d=n(877).convert}catch(e){}const l=Symbol("Body internals");const h=r.PassThrough;function Body(e){var t=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},s=n.size;let o=s===undefined?0:s;var i=n.timeout;let c=i===undefined?0:i;if(e==null){e=null}else if(isURLSearchParams(e)){e=Buffer.from(e.toString())}else if(isBlob(e))   ;else if(Buffer.isBuffer(e))   ;else if(Object.prototype.toString.call(e)==="[object ArrayBuffer]"){e=Buffer.from(e)}else if(ArrayBuffer.isView(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(e instanceof r)   ;else{e=Buffer.from(String(e))}this[l]={body:e,disturbed:false,error:null};this.size=o;this.timeout=c;if(e instanceof r){e.on("error",function(e){const n=e.name==="AbortError"?e:new FetchError(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[l].error=n})}}Body.prototype={get body(){return this[l].body},get bodyUsed(){return this[l].disturbed},arrayBuffer(){return consumeBody.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return consumeBody.call(this).then(function(t){return Object.assign(new Blob([],{type:e.toLowerCase()}),{[f]:t})})},json(){var e=this;return consumeBody.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return Body.Promise.reject(new FetchError(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return consumeBody.call(this).then(function(e){return e.toString()})},buffer(){return consumeBody.call(this)},textConverted(){var e=this;return consumeBody.call(this).then(function(t){return convertBody(t,e.headers)})}};Object.defineProperties(Body.prototype,{body:{enumerable:true},bodyUsed:{enumerable:true},arrayBuffer:{enumerable:true},blob:{enumerable:true},json:{enumerable:true},text:{enumerable:true}});Body.mixIn=function(e){for(const t of Object.getOwnPropertyNames(Body.prototype)){if(!(t in e)){const n=Object.getOwnPropertyDescriptor(Body.prototype,t);Object.defineProperty(e,t,n)}}};function consumeBody(){var e=this;if(this[l].disturbed){return Body.Promise.reject(new TypeError(`body used already for: ${this.url}`))}this[l].disturbed=true;if(this[l].error){return Body.Promise.reject(this[l].error)}let t=this.body;if(t===null){return Body.Promise.resolve(Buffer.alloc(0))}if(isBlob(t)){t=t.stream()}if(Buffer.isBuffer(t)){return Body.Promise.resolve(t)}if(!(t instanceof r)){return Body.Promise.resolve(Buffer.alloc(0))}let n=[];let s=0;let o=false;return new Body.Promise(function(r,i){let c;if(e.timeout){c=setTimeout(function(){o=true;i(new FetchError(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)}t.on("error",function(t){if(t.name==="AbortError"){o=true;i(t)}else{i(new FetchError(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}});t.on("data",function(t){if(o||t===null){return}if(e.size&&s+t.length>e.size){o=true;i(new FetchError(`content size at ${e.url} over limit: ${e.size}`,"max-size"));return}s+=t.length;n.push(t)});t.on("end",function(){if(o){return}clearTimeout(c);try{r(Buffer.concat(n,s))}catch(t){i(new FetchError(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}})})}function convertBody(e,t){if(typeof d!=="function"){throw new Error("The package `encoding` must be installed to use the textConverted() function")}const n=t.get("content-type");let r="utf-8";let s,o;if(n){s=/charset=([^;]*)/i.exec(n)}o=e.slice(0,1024).toString();if(!s&&o){s=/<meta.+?charset=(['"])(.+?)\1/i.exec(o)}if(!s&&o){s=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(o);if(!s){s=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(o);if(s){s.pop()}}if(s){s=/charset=(.*)/i.exec(s.pop())}}if(!s&&o){s=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(o)}if(s){r=s.pop();if(r==="gb2312"||r==="gbk"){r="gb18030"}}return d(e,"UTF-8",r).toString()}function isURLSearchParams(e){if(typeof e!=="object"||typeof e.append!=="function"||typeof e.delete!=="function"||typeof e.get!=="function"||typeof e.getAll!=="function"||typeof e.has!=="function"||typeof e.set!=="function"){return false}return e.constructor.name==="URLSearchParams"||Object.prototype.toString.call(e)==="[object URLSearchParams]"||typeof e.sort==="function"}function isBlob(e){return typeof e==="object"&&typeof e.arrayBuffer==="function"&&typeof e.type==="string"&&typeof e.stream==="function"&&typeof e.constructor==="function"&&typeof e.constructor.name==="string"&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function clone(e){let t,n;let s=e.body;if(e.bodyUsed){throw new Error("cannot clone body after it is used")}if(s instanceof r&&typeof s.getBoundary!=="function"){t=new h;n=new h;s.pipe(t);s.pipe(n);e[l].body=t;s=n}return s}function extractContentType(e){if(e===null){return null}else if(typeof e==="string"){return"text/plain;charset=UTF-8"}else if(isURLSearchParams(e)){return"application/x-www-form-urlencoded;charset=UTF-8"}else if(isBlob(e)){return e.type||null}else if(Buffer.isBuffer(e)){return null}else if(Object.prototype.toString.call(e)==="[object ArrayBuffer]"){return null}else if(ArrayBuffer.isView(e)){return null}else if(typeof e.getBoundary==="function"){return`multipart/form-data;boundary=${e.getBoundary()}`}else if(e instanceof r){return null}else{return"text/plain;charset=UTF-8"}}function getTotalBytes(e){const t=e.body;if(t===null){return 0}else if(isBlob(t)){return t.size}else if(Buffer.isBuffer(t)){return t.length}else if(t&&typeof t.getLengthSync==="function"){if(t._lengthRetrievers&&t._lengthRetrievers.length==0||t.hasKnownLength&&t.hasKnownLength()){return t.getLengthSync()}return null}else{return null}}function writeToStream(e,t){const n=t.body;if(n===null){e.end()}else if(isBlob(n)){n.stream().pipe(e)}else if(Buffer.isBuffer(n)){e.write(n);e.end()}else{n.pipe(e)}}Body.Promise=global.Promise;const p=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/;const b=/[^\t\x20-\x7e\x80-\xff]/;function validateName(e){e=`${e}`;if(p.test(e)||e===""){throw new TypeError(`${e} is not a legal HTTP header name`)}}function validateValue(e){e=`${e}`;if(b.test(e)){throw new TypeError(`${e} is not a legal HTTP header value`)}}function find(e,t){t=t.toLowerCase();for(const n in e){if(n.toLowerCase()===t){return n}}return undefined}const g=Symbol("map");class Headers{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:undefined;this[g]=Object.create(null);if(e instanceof Headers){const t=e.raw();const n=Object.keys(t);for(const e of n){for(const n of t[e]){this.append(e,n)}}return}if(e==null)   ;else if(typeof e==="object"){const t=e[Symbol.iterator];if(t!=null){if(typeof t!=="function"){throw new TypeError("Header pairs must be iterable")}const n=[];for(const t of e){if(typeof t!=="object"||typeof t[Symbol.iterator]!=="function"){throw new TypeError("Each header pair must be iterable")}n.push(Array.from(t))}for(const e of n){if(e.length!==2){throw new TypeError("Each header pair must be a name/value tuple")}this.append(e[0],e[1])}}else{for(const t of Object.keys(e)){const n=e[t];this.append(t,n)}}}else{throw new TypeError("Provided initializer must be an object")}}get(e){e=`${e}`;validateName(e);const t=find(this[g],e);if(t===undefined){return null}return this[g][t].join(", ")}forEach(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined;let n=getHeaders(this);let r=0;while(r<n.length){var s=n[r];const o=s[0],i=s[1];e.call(t,i,o,this);n=getHeaders(this);r++}}set(e,t){e=`${e}`;t=`${t}`;validateName(e);validateValue(t);const n=find(this[g],e);this[g][n!==undefined?n:e]=[t]}append(e,t){e=`${e}`;t=`${t}`;validateName(e);validateValue(t);const n=find(this[g],e);if(n!==undefined){this[g][n].push(t)}else{this[g][e]=[t]}}has(e){e=`${e}`;validateName(e);return find(this[g],e)!==undefined}delete(e){e=`${e}`;validateName(e);const t=find(this[g],e);if(t!==undefined){delete this[g][t]}}raw(){return this[g]}keys(){return createHeadersIterator(this,"key")}values(){return createHeadersIterator(this,"value")}[Symbol.iterator](){return createHeadersIterator(this,"key+value")}}Headers.prototype.entries=Headers.prototype[Symbol.iterator];Object.defineProperty(Headers.prototype,Symbol.toStringTag,{value:"Headers",writable:false,enumerable:false,configurable:true});Object.defineProperties(Headers.prototype,{get:{enumerable:true},forEach:{enumerable:true},set:{enumerable:true},append:{enumerable:true},has:{enumerable:true},delete:{enumerable:true},keys:{enumerable:true},values:{enumerable:true},entries:{enumerable:true}});function getHeaders(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"key+value";const n=Object.keys(e[g]).sort();return n.map(t==="key"?function(e){return e.toLowerCase()}:t==="value"?function(t){return e[g][t].join(", ")}:function(t){return[t.toLowerCase(),e[g][t].join(", ")]})}const y=Symbol("internal");function createHeadersIterator(e,t){const n=Object.create(m);n[y]={target:e,kind:t,index:0};return n}const m=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==m){throw new TypeError("Value of `this` is not a HeadersIterator")}var e=this[y];const t=e.target,n=e.kind,r=e.index;const s=getHeaders(t,n);const o=s.length;if(r>=o){return{value:undefined,done:true}}this[y].index=r+1;return{value:s[r],done:false}}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));Object.defineProperty(m,Symbol.toStringTag,{value:"HeadersIterator",writable:false,enumerable:false,configurable:true});function exportNodeCompatibleHeaders(e){const t=Object.assign({__proto__:null},e[g]);const n=find(e[g],"Host");if(n!==undefined){t[n]=t[n][0]}return t}function createHeadersLenient(e){const t=new Headers;for(const n of Object.keys(e)){if(p.test(n)){continue}if(Array.isArray(e[n])){for(const r of e[n]){if(b.test(r)){continue}if(t[g][n]===undefined){t[g][n]=[r]}else{t[g][n].push(r)}}}else if(!b.test(e[n])){t[g][n]=[e[n]]}}return t}const w=Symbol("Response internals");const O=s.STATUS_CODES;class Response{constructor(){let e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};Body.call(this,e,t);const n=t.status||200;const r=new Headers(t.headers);if(e!=null&&!r.has("Content-Type")){const t=extractContentType(e);if(t){r.append("Content-Type",t)}}this[w]={url:t.url,status:n,statusText:t.statusText||O[n],headers:r,counter:t.counter}}get url(){return this[w].url||""}get status(){return this[w].status}get ok(){return this[w].status>=200&&this[w].status<300}get redirected(){return this[w].counter>0}get statusText(){return this[w].statusText}get headers(){return this[w].headers}clone(){return new Response(clone(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}Body.mixIn(Response.prototype);Object.defineProperties(Response.prototype,{url:{enumerable:true},status:{enumerable:true},ok:{enumerable:true},redirected:{enumerable:true},statusText:{enumerable:true},headers:{enumerable:true},clone:{enumerable:true}});Object.defineProperty(Response.prototype,Symbol.toStringTag,{value:"Response",writable:false,enumerable:false,configurable:true});const j=Symbol("Request internals");const _=o.parse;const E=o.format;const T="destroy"in r.Readable.prototype;function isRequest(e){return typeof e==="object"&&typeof e[j]==="object"}function isAbortSignal(e){const t=e&&typeof e==="object"&&Object.getPrototypeOf(e);return!!(t&&t.constructor.name==="AbortSignal")}class Request{constructor(e){let t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};let n;if(!isRequest(e)){if(e&&e.href){n=_(e.href)}else{n=_(`${e}`)}e={}}else{n=_(e.url)}let r=t.method||e.method||"GET";r=r.toUpperCase();if((t.body!=null||isRequest(e)&&e.body!==null)&&(r==="GET"||r==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body")}let s=t.body!=null?t.body:isRequest(e)&&e.body!==null?clone(e):null;Body.call(this,s,{timeout:t.timeout||e.timeout||0,size:t.size||e.size||0});const o=new Headers(t.headers||e.headers||{});if(s!=null&&!o.has("Content-Type")){const e=extractContentType(s);if(e){o.append("Content-Type",e)}}let i=isRequest(e)?e.signal:null;if("signal"in t)i=t.signal;if(i!=null&&!isAbortSignal(i)){throw new TypeError("Expected signal to be an instanceof AbortSignal")}this[j]={method:r,redirect:t.redirect||e.redirect||"follow",headers:o,parsedURL:n,signal:i};this.follow=t.follow!==undefined?t.follow:e.follow!==undefined?e.follow:20;this.compress=t.compress!==undefined?t.compress:e.compress!==undefined?e.compress:true;this.counter=t.counter||e.counter||0;this.agent=t.agent||e.agent}get method(){return this[j].method}get url(){return E(this[j].parsedURL)}get headers(){return this[j].headers}get redirect(){return this[j].redirect}get signal(){return this[j].signal}clone(){return new Request(this)}}Body.mixIn(Request.prototype);Object.defineProperty(Request.prototype,Symbol.toStringTag,{value:"Request",writable:false,enumerable:false,configurable:true});Object.defineProperties(Request.prototype,{method:{enumerable:true},url:{enumerable:true},headers:{enumerable:true},redirect:{enumerable:true},clone:{enumerable:true},signal:{enumerable:true}});function getNodeRequestOptions(e){const t=e[j].parsedURL;const n=new Headers(e[j].headers);if(!n.has("Accept")){n.set("Accept","*/*")}if(!t.protocol||!t.hostname){throw new TypeError("Only absolute URLs are supported")}if(!/^https?:$/.test(t.protocol)){throw new TypeError("Only HTTP(S) protocols are supported")}if(e.signal&&e.body instanceof r.Readable&&!T){throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8")}let s=null;if(e.body==null&&/^(POST|PUT)$/i.test(e.method)){s="0"}if(e.body!=null){const t=getTotalBytes(e);if(typeof t==="number"){s=String(t)}}if(s){n.set("Content-Length",s)}if(!n.has("User-Agent")){n.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)")}if(e.compress&&!n.has("Accept-Encoding")){n.set("Accept-Encoding","gzip,deflate")}let o=e.agent;if(typeof o==="function"){o=o(t)}if(!n.has("Connection")&&!o){n.set("Connection","close")}return Object.assign({},t,{method:e.method,headers:exportNodeCompatibleHeaders(n),agent:o})}function AbortError(e){Error.call(this,e);this.type="aborted";this.message=e;Error.captureStackTrace(this,this.constructor)}AbortError.prototype=Object.create(Error.prototype);AbortError.prototype.constructor=AbortError;AbortError.prototype.name="AbortError";const B=r.PassThrough;const x=o.resolve;function fetch(e,t){if(!fetch.Promise){throw new Error("native promise missing, set fetch.Promise to your favorite alternative")}Body.Promise=fetch.Promise;return new fetch.Promise(function(n,o){const u=new Request(e,t);const f=getNodeRequestOptions(u);const a=(f.protocol==="https:"?i:s).request;const d=u.signal;let l=null;const h=function abort(){let e=new AbortError("The user aborted a request.");o(e);if(u.body&&u.body instanceof r.Readable){u.body.destroy(e)}if(!l||!l.body)return;l.body.emit("error",e)};if(d&&d.aborted){h();return}const p=function abortAndFinalize(){h();finalize()};const b=a(f);let g;if(d){d.addEventListener("abort",p)}function finalize(){b.abort();if(d)d.removeEventListener("abort",p);clearTimeout(g)}if(u.timeout){b.once("socket",function(e){g=setTimeout(function(){o(new FetchError(`network timeout at: ${u.url}`,"request-timeout"));finalize()},u.timeout)})}b.on("error",function(e){o(new FetchError(`request to ${u.url} failed, reason: ${e.message}`,"system",e));finalize()});b.on("response",function(e){clearTimeout(g);const t=createHeadersLenient(e.headers);if(fetch.isRedirect(e.statusCode)){const r=t.get("Location");const s=r===null?null:x(u.url,r);switch(u.redirect){case"error":o(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect"));finalize();return;case"manual":if(s!==null){try{t.set("Location",s)}catch(e){o(e)}}break;case"follow":if(s===null){break}if(u.counter>=u.follow){o(new FetchError(`maximum redirect reached at: ${u.url}`,"max-redirect"));finalize();return}const r={headers:new Headers(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:u.body,signal:u.signal,timeout:u.timeout,size:u.size};if(e.statusCode!==303&&u.body&&getTotalBytes(u)===null){o(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect"));finalize();return}if(e.statusCode===303||(e.statusCode===301||e.statusCode===302)&&u.method==="POST"){r.method="GET";r.body=undefined;r.headers.delete("content-length")}n(fetch(new Request(s,r)));finalize();return}}e.once("end",function(){if(d)d.removeEventListener("abort",p)});let r=e.pipe(new B);const s={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:u.size,timeout:u.timeout,counter:u.counter};const i=t.get("Content-Encoding");if(!u.compress||u.method==="HEAD"||i===null||e.statusCode===204||e.statusCode===304){l=new Response(r,s);n(l);return}const f={flush:c.Z_SYNC_FLUSH,finishFlush:c.Z_SYNC_FLUSH};if(i=="gzip"||i=="x-gzip"){r=r.pipe(c.createGunzip(f));l=new Response(r,s);n(l);return}if(i=="deflate"||i=="x-deflate"){const t=e.pipe(new B);t.once("data",function(e){if((e[0]&15)===8){r=r.pipe(c.createInflate())}else{r=r.pipe(c.createInflateRaw())}l=new Response(r,s);n(l)});return}if(i=="br"&&typeof c.createBrotliDecompress==="function"){r=r.pipe(c.createBrotliDecompress());l=new Response(r,s);n(l);return}l=new Response(r,s);n(l)});writeToStream(b,u)})}fetch.isRedirect=function(e){return e===301||e===302||e===303||e===307||e===308};fetch.Promise=global.Promise;e.exports=t=fetch;Object.defineProperty(t,"__esModule",{value:true});t.default=t;t.Headers=Headers;t.Request=Request;t.Response=Response;t.FetchError=FetchError},223:(e,t,n)=>{var r=n(940);e.exports=r(once);e.exports.strict=r(onceStrict);once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:true});Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:true})});function once(e){var t=function(){if(t.called)return t.value;t.called=true;return t.value=e.apply(this,arguments)};t.called=false;return t}function onceStrict(e){var t=function(){if(t.called)throw new Error(t.onceError);t.called=true;return t.value=e.apply(this,arguments)};var n=e.name||"Function wrapped with `once`";t.onceError=n+" shouldn't be called more than once";t.called=false;return t}},30:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function getUserAgent(){if(typeof navigator==="object"&&"userAgent"in navigator){return navigator.userAgent}if(typeof process==="object"&&"version"in process){return`Node.js/${process.version.substr(1)} (${process.platform}; ${process.arch})`}return"<environment undetectable>"}t.getUserAgent=getUserAgent},940:e=>{e.exports=wrappy;function wrappy(e,t){if(e&&t)return wrappy(e)(t);if(typeof e!=="function")throw new TypeError("need wrapper function");Object.keys(e).forEach(function(t){wrapper[t]=e[t]});return wrapper;function wrapper(){var t=new Array(arguments.length);for(var n=0;n<t.length;n++){t[n]=arguments[n]}var r=e.apply(this,t);var s=t[t.length-1];if(typeof r==="function"&&r!==s){Object.keys(s).forEach(function(e){r[e]=s[e]})}return r}}},785:module=>{module.exports=eval("require")("@octokit/rest")},877:module=>{module.exports=eval("require")("encoding")},747:e=>{"use strict";e.exports=require("fs")},605:e=>{"use strict";e.exports=require("http")},211:e=>{"use strict";e.exports=require("https")},87:e=>{"use strict";e.exports=require("os")},622:e=>{"use strict";e.exports=require("path")},413:e=>{"use strict";e.exports=require("stream")},835:e=>{"use strict";e.exports=require("url")},761:e=>{"use strict";e.exports=require("zlib")}};var __webpack_module_cache__={};function __webpack_require__(e){if(__webpack_module_cache__[e]){return __webpack_module_cache__[e].exports}var t=__webpack_module_cache__[e]={exports:{}};var n=true;try{__webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__);n=false}finally{if(n)delete __webpack_module_cache__[e]}return t.exports}__webpack_require__.ab=__dirname+"/";return __webpack_require__(932)})();
//# sourceMappingURL=index.js.map